<div class="teacher-page">
  <div class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content container flex align-items-center flex-wrap">
      <div
        class="col-12 md:col-4 flex justify-content-center md:justify-content-start"
      >
        <div class="img-teacher">
          <img [src]="selectedTeacher?.image" [alt]="selectedTeacher?.name" />
        </div>
      </div>
      <div class="info-teacher text-center md:text-right col-12 md:col-8">
        <h1 class="text-5xl font-bold text-white mt-4">
          {{ selectedTeacher?.name }}
        </h1>
        <h3 class="text-2xl text-white mt-2">
          {{ selectedTeacher?.title }}
        </h3>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="teacher-profile-container my-6">
      <div class="info-teacher-section">
        <div class="banner-section">
          <h1>نبذة عن المعلم</h1>
          <p class="teacher-desc">
            {{ selectedTeacher?.desc }}
          </p>
        </div>
        <div class="section-cards flex flex-wrap">
          <div class="col-12 md:col-6 lg:col-3">
            <div class="card">
              <i class="pi pi-briefcase text-5xl text-orange-500"></i>
              <p class="card-title">الخبرة</p>
              <p class="card-desc">{{ selectedTeacher?.experience }} سنوات</p>
            </div>
          </div>
          <div class="col-12 md:col-6 lg:col-3">
            <div class="card">
              <i class="pi pi-graduation-cap text-5xl text-blue-500"></i>
              <p class="card-title">الجامعة</p>
              <p class="card-desc">{{ selectedTeacher?.university }}</p>
            </div>
          </div>
          <div class="col-12 md:col-6 lg:col-3">
            <div class="card">
              <i class="pi pi-users text-5xl text-pink-500"></i>
              <p class="card-title">الصفوف</p>
              <p class="card-desc">{{ detailedSubjectScopes }}</p>
            </div>
          </div>
          <div class="col-12 md:col-6 lg:col-3">
            <div class="card">
              <i class="pi pi-book text-5xl text-green-500"></i>
              <p class="card-title">المواد</p>
              <p class="card-desc">{{ generalSubjects }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="schedule-section my-6">
      <div class="">
        <h3 class="text-3xl font-bold text-center text-900 mb-4">
          جدول الحصص الأسبوعي
        </h3>
        <div
          *ngIf="isLoadingSchedules"
          class="flex justify-content-center align-items-center p-5"
        >
          <i class="pi pi-spin pi-spinner text-4xl text-primary"></i>
          <span class="text-xl text-700 mx-3">جاري تحميل المواعيد...</span>
        </div>

        <div *ngIf="!isLoadingSchedules">
          <div
            *ngIf="teacherSchedules.length === 0"
            class="p-mt-3 p-p-4 bg-yellow-100 border-round-md"
          >
            <p
              class="text-lg text-yellow-900 font-medium flex align-items-center"
            >
              <i class="pi pi-exclamation-triangle mr-3 text-2xl"></i>
              لا توجد حصص مجدولة حاليًا لهذا الأستاذ في نظامنا.
            </p>
          </div>

          <p-table
            [value]="teacherSchedules"
            *ngIf="teacherSchedules.length > 0"
            [scrollable]="true"
            [tableStyle]="{ 'min-width': '30rem' }"
            styleClass="p-datatable-gridlines p-datatable-sm "
          >
            <ng-template pTemplate="header">
              <tr class="text-lg">
                <th class="text-center">اليوم</th>
                <th class="text-center">المادة</th>
                <th class="text-center">الصف/المستوى</th>
                <th class="text-center">وقت البدء</th>
                <th class="text-center">عنوان الحصة</th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-schedule>
              <tr>
                <td>
                  <div
                    class="flex lg:justify-content-center justify-content-between flex-row"
                  >
                    <p class="lg:hidden sm:inline row_data start-list w-max">
                      اليوم
                    </p>
                    <div
                      class="lg:mb-0 sm:mb-2 lg:w-full lg:justify-content-center sm:w-max d-flex flex align-items-center gap-1 flex-row flex-wrap"
                    >
                      <p class="row_data mb-0">
                        {{ schedule.day }}
                      </p>
                    </div>
                  </div>
                </td>
                <td>
                  <div
                    class="flex lg:justify-content-center justify-content-between flex-row"
                  >
                    <p class="lg:hidden sm:inline row_data start-list w-max">
                      المادة
                    </p>
                    <div
                      class="lg:mb-0 sm:mb-2 lg:w-full sm:w-max d-flex flex align-items-center lg:justify-content-center gap-1 flex-row flex-wrap"
                    >
                      <p class="row_data mb-0">
                        {{ schedule.subject }}
                      </p>
                    </div>
                  </div>
                </td>
                <td>
                  <div
                    class="flex lg:justify-content-center justify-content-between flex-row"
                  >
                    <p class="lg:hidden sm:inline row_data start-list w-max">
                      الصف/المستوى
                    </p>
                    <div
                      class="lg:mb-0 sm:mb-2 lg:w-full sm:w-max d-flex lg:justify-content-center flex align-items-center gap-1 flex-row flex-wrap"
                    >
                      <p class="row_data mb-0">
                        {{ schedule.class_level_scope }}
                      </p>
                    </div>
                  </div>
                </td>
                <td>
                  <div
                    class="flex lg:justify-content-center justify-content-between flex-row"
                  >
                    <p class="lg:hidden sm:inline row_data start-list w-max">
                      وقت البدء
                    </p>
                    <div
                      class="lg:mb-0 sm:mb-2 lg:w-full sm:w-max d-flex lg:justify-content-center flex align-items-center gap-1 flex-row flex-wrap"
                    >
                      <p class="row_data mb-0">
                        {{ formatTime(schedule.start_time) }}
                      </p>
                    </div>
                  </div>
                </td>

                <td>
                  <div
                    class="flex lg:justify-content-center justify-content-between flex-row"
                  >
                    <p class="lg:hidden sm:inline row_data start-list w-max">
                      عنوان الحصة
                    </p>
                    <div
                      class="lg:mb-0 sm:mb-2 lg:w-full sm:w-max d-flex lg:justify-content-center flex align-items-center gap-1 flex-row flex-wrap"
                    >
                      <p class="row_data mb-0">
                        {{ schedule.class_name || "-" }}
                      </p>
                    </div>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>
</div>
